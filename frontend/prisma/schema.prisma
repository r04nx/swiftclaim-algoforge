generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
}

model User {
  id                String    @id @default(cuid())
  firstName         String?
  lastName          String?
  email            String    @unique
  password         String
  phone            String?
  role             String    @default("user")
  userType         String    @default("individual")
  accountType      String?
  insuranceTypes   String?   // Stored as JSON string
  existingPolicy   String?
  policyNumber     String?
  companyName      String?
  registrationNumber String?
  companyType      String?
  contactPerson    Json?     // Stored as JSON object
  createdAt        DateTime  @default(now())
  updatedAt        DateTime  @updatedAt
  claims           Claim[]
  policies         Policy[]
}

model Policy {
  id          String    @id @default(cuid())
  type        String
  coverage    Float
  expiry      DateTime
  provider    String
  premium     Float
  benefits    String?   // Stored as JSON string
  userId      String
  user        User      @relation(fields: [userId], references: [id])
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt
}

model Claim {
  id          String    @id @default(cuid())
  type        String
  amount      Float
  status      String    @default("pending")
  description String?
  documents   String?   // Stored as JSON string
  userId      String
  user        User      @relation(fields: [userId], references: [id])
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt
} 